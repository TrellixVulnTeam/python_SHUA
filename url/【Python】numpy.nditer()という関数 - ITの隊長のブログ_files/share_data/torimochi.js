!function e(t,n,i){function o(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n?n:e)},l,l.exports,e,t,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={logVersion:"1.5.2",sessionCookieName:"_trmcsession",sessionCookieExpires:18e5,sessionParamsLimit:10,userCookieName:"_trmcuser",userCookieExpires:2592e6,userAttrsLimit:10,cidCookieName:"_trmccid",cidCookieExpires:31536e6,pageCookieName:"_trmcpage",disabledCookieName:"_trmcdisabled2"}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n["default"]=function(e){var t=(0,o.mapping)(["message","file","line","col"],e),n=t.message,r=t.file,a=t.line,u=t.col;if("object"===("undefined"==typeof n?"undefined":i(n))&&n.srcElement&&n.target&&(n="[object HTMLScriptElement]"===n.srcElement&&"[object HTMLScriptElement]"===n.target?"Error loading script":"Event Error - target:"+n.target+" srcElement:"+n.srcElement),n+="",n.indexOf("Location.toString")>-1)return null;if(n.indexOf("Error loading script")>-1)return null;var s={message:n,file:r,line:a,col:u},c=t.hitCallback;return{data:s,hitCallback:c,rawData:t}};var o=e("lib/util")},{"lib/util":11}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){var t=(0,a.mapping)(["page"],e),n=t.title||document.title,i=t.page||t.location||location.pathname,o=(0,u.getCookie)(r["default"].pageCookieName)||"",s=t.hitCallback;(0,u.setCookie)(r["default"].pageCookieName,i,"session"),window._trmCurrentPath=i;var c={title:n,from:o,to:i};return{data:c,hitCallback:s,rawData:t}};var o=e("config"),r=i(o),a=e("lib/util"),u=e("lib/cookie")},{config:1,"lib/cookie":8,"lib/util":11}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(){var e=document.body.getBoundingClientRect(),t=e.top,n=document.body.scrollHeight-window.innerHeight;window._trmCurrentPath!==location.pathname&&(window._trmSceneId=(0,i.createId)());var o=0;if(n>0&&(o=Math.round(t/n*100),o=o<0?o*-1:o),window._trmScrollDepth===o)return{};window._trmScrollDepth=o;var r={sceneId:window._trmSceneId,depth:o};return{data:r,hitCallback:null,rawData:{}}};var i=e("lib/util");window._trmCurrentPath=window._trmCurrentPath||location.pathname,window._trmScrollDepth=null,window._trmSceneId=window._trmSceneId||(0,i.createId)()},{"lib/util":11}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(e){var t=(0,i.mapping)(["eventCategory","eventAction","eventLabel","eventValue"],e),n=t.eventCategory||"",o=t.eventAction||"",r=t.eventLabel||"",a="number"==typeof t.eventValue?t.eventValue:null,u=t.hitCallback,s={category:n,action:o,label:r,value:a};return{data:s,hitCallback:u,rawData:t}};var i=e("lib/util")},{"lib/util":11}],6:[function(e,t,n){"use strict";function i(e){window._trmcdev&&window._trmcdev(e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],7:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("lib/util"),a=1500,u=function(){function e(t){i(this,e),this.endpoint=t}return o(e,[{key:"send",value:function(e,t){var n=!1,i=document.createElement("img");i.width=1,i.height=1,"function"==typeof t&&(i.onload=function(){n||(t(),n=!0)},setTimeout(function(){n||(t(),n=!0)},a)),i.src=(0,r.urlencode)(this.endpoint,e)}}]),e}();n["default"]=u},{"lib/util":11}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCookieObject=n.setCookieObject=n.removeAllCookies=n.removeCookie=n.setCookie=n.getRootDomain=n.searchCookies=n.getCookie=n.getAllCookies=void 0;var i=e("lib/util"),o=n.getAllCookies=function(){var e={};if(document.cookie)for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].split("="),o=i.shift();e[o]=i.join("=")}return e},r=n.getCookie=function(e){return o()[e]},a=n.searchCookies=function(e){var t=o(),n={};return(0,i.each)(t,function(t,i){t.match(e)&&(n[t]=i)}),n},u=null,s=n.getRootDomain=function(){if(u)return u;for(var e="__try__",t=Date.now()+"",n=location.hostname.split("."),o=function(o){var s=(o+1)*-1,c=n.slice(s),l=c.join(".");if(document.cookie=e+"="+t+"; domain="+l+"; path=/; false",r(e)===t){var f=a(/^_try_[0-9]+$/);return(0,i.each)(f,function(e){document.cookie=e+"=; domain="+l+"; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; false"}),u=l,"break"}},s=0;n.length>s;s++){var c=o(s);if("break"===c)break}return u||(u=location.hostname),u},c=n.setCookie=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new Date(Date.now()+n).toGMTString();"undefined"==typeof i.cookieDomain&&(i.cookieDomain=location.hostname),"undefined"==typeof i.disableSecure&&(i.disableSecure=!1);var r=i.cookieDomain?i.cookieDomain:s(),a=!i.disableSecure,u="https:"===location.protocol&&a?"secure; ":"false";n&&"session"!==n?document.cookie=e+"="+t+"; expires="+o+"; domain="+r+"; path=/; "+u:document.cookie=e+"="+t+"; domain="+r+"; path=/; "+u+"false"},l=n.removeCookie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.hostname,n=t?t:s();return document.cookie=e+"=; domain="+n+"; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; false",e};n.removeAllCookies=function(){var e=o();(0,i.each)(e,function(e){l(e)})},n.setCookieObject=function(e,t,n,i){var o=JSON.stringify(t);return c(e,o,n,i),t},n.getCookieObject=function(e){var t=r(e);try{var n=JSON.parse(t);return n}catch(i){return null}}},{"lib/util":11}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(){var e=performance.timing;return{redirect:e.redirectEnd-e.redirectStart,cache:e.domainLookupStart-e.fetchStart,dns:e.domainLookupEnd-e.domainLookupStart,tcp:e.connectEnd-e.connectStart,request:e.responseStart-e.requestStart,response:e.responseEnd-e.responseStart,dom:e.domComplete-e.domLoading,load:e.loadEventEnd-e.loadEventStart,total:e.loadEventEnd-e.navigationStart,network:e.responseEnd-e.navigationStart,local:e.loadEventEnd-e.responseEnd}}},{}],10:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=e("lib/util"),a=function(){function e(){i(this,e),this._positionX=0,this._positionY=0,this._watchElements={},this.bind()}return o(e,[{key:"bind",value:function(){var e=this,t=function(t){if(1===t.targetTouches.length){var n=t.targetTouches[0];e._positionX=n.pageX,e._positionY=n.pageY}},n=(0,r.throttle)(function(t){e._positionX=t.pageX,e._positionY=t.pageY},100);document.addEventListener("touchstart",t,{passive:!0,capture:!0}),document.addEventListener("mousemove",n,{passive:!0,capture:!0})}},{key:"register",value:function(e,t){var n="string"==typeof t?document.querySelector(t):t;n&&this._watchElements[e]!==n&&(this._watchElements[e]=n)}},{key:"unregister",value:function(e){delete this._watchElements[e]}},{key:"getInfo",value:function(){var e=this,t=window.innerHeight,n=.5*t,i=window.innerWidth,o=.5*i,a=[];return(0,r.each)(this._watchElements,function(r,u){var s=document.body.contains(u);if(s){var c=u.getBoundingClientRect(),l=c.top,f=c.top+c.height,d=c.left,h=c.left+c.width,v=l>=-1&&f<=t+1||l<=1&&f>=n||l<=n&&f>=t-1,p=d>=-1&&h<=i+1||d<=1&&h>=o||d<=o&&h>=i-1;v&&p&&a.push(r)}else e.unregister(r)}),{touchX:this._positionX,touchY:this._positionY,scrollX:window.scrollX,scrollY:window.scrollY,windowX:window.innerWidth,windowY:window.innerHeight,targets:a}}}]),e}();n["default"]=a},{"lib/util":11}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n.toJSONString=function(e){var t="";if("object"===("undefined"==typeof e?"undefined":i(e)))try{t=JSON.stringify(e)}catch(n){t=e+""}else t=e+"";return t},r=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=2166136261,i=n,o=e+"",r=0;r<o.length;++r)i^=o.charCodeAt(r),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);var a=(i>>>0).toString(16);return t&&(a=("00000000"+a).slice(-8)),a},a=function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o="";if("object"===("undefined"==typeof e?"undefined":i(e)))for(var r in e)o+=r+(e[r]+""),"object"===i(e[r])&&t>n&&(o+=l(e[r],t,n+1));return o},u="",s=(n.createId=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";if(e){if(!u){var n=window.navigator||{},i=(new Date+"").replace(/[0-9]/gm,"*");u+=a(n),u+=window.innerHeight+"x"+window.innerHeight+"/"+window.devicePixelRatio+";"+i+";"}t+=r(u)}for(var o=Date.now(),s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",c=s.split(""),l=0;l<12;)o+=c[Math.floor(Math.random()*c.length)],l++;return t+=r(o,!0)},n.urlencode=function(e,t){var n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o(t[e]))}).join("&"),i=e.indexOf("?")<0?"?":"&";return e+i+n},n.parseUrlQuery=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.search,t=e.replace(/^.*?\?/,""),n=t.split("&"),i={},o=0;o<n.length;o++){var r=n[o].split("=");i[r[0]]=r[1]}return i},n.each=function(e,t){if("object"===("undefined"==typeof e?"undefined":i(e)))for(var n in e)e.hasOwnProperty(n)&&t(n,e[n],e)},n.extend=function(e,t,n){if("object"===("undefined"==typeof t?"undefined":i(t)))for(var o in t)if(t.hasOwnProperty(o)){var r=o;n&&(r=n+o.replace(/^[a-z]/g,function(e){return e.toUpperCase()})),e[r]=t[o]}return e}),c=(n.assign=function(e,t,n){if("object"===("undefined"==typeof t?"undefined":i(t)))for(var o in t)if(t.hasOwnProperty(o)&&"undefined"!=typeof e[o]&&"undefined"!=typeof t[o]){var r=o;n&&(r=n+o.replace(/^[a-z]/g,function(e){return e.toUpperCase()})),e[r]=t[o]}return e},n.any=function(e,t){if("object"===("undefined"==typeof e?"undefined":i(e)))for(var n in e)if(e.hasOwnProperty(n)&&t(n,e[n]))return!0;return!1},n.throttle=function(e,t){var n=null,i=null,o=0,r=function(){o=Date.now(),i=null,e.apply(null,n),n=null};return function(){var a=Date.now();o||(o=a);var u=t-(a-o);n=[].slice.apply(arguments),u<=0||u>t?(clearTimeout(i),i=null,o=a,e.apply(null,n)):null===i&&(i=setTimeout(r,u))}},n.mapping=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},o=t[t.length-1];"object"===("undefined"==typeof o?"undefined":i(o))&&t.pop();for(var r=0,a=t.length;r<a;r++){var u=t[r],c=e[r];n[c]=u}return s(n,o)},n.pickup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n={};for(var i in e)t.test(i)&&(n[i]=e[i]);return n},!1);window.addEventListener("load",function(){c=!0});n.onload=function(e){c?e():window.addEventListener("load",function(){e()})}},{}],12:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("config"),u=i(a),s=e("lib/cookie"),c=e("lib/util"),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o(this,e),this.id=this.getId(t),this.threshold=this.createNumber(this.id)}return r(e,[{key:"getId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,s.getCookie)(u["default"].cidCookieName);return e.valid(n)&&!t||(n=(0,c.createId)(!0)),this.setId(n)}},{key:"setId",value:function(e){return this.id=e,(0,s.setCookie)(u["default"].cidCookieName,e,u["default"].cidCookieExpires,{cookieDomain:null,disableSecure:!0}),e}},{key:"isTarget",value:function(e){return this.threshold<~~(100*e)}},{key:"createNumber",value:function(e){var t=e.slice(-6),n=parseInt(t,16);return~~n%100}}],[{key:"valid",value:function(e){return!(!e||"string"!=typeof e)&&/^[0-9a-f]{16}$/.test(e)}}]),e}();n["default"]=l},{config:1,"lib/cookie":8,"lib/util":11}],13:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("config"),u=i(a),s=e("lib/cookie"),c=e("lib/util"),l=function(){function e(t){o(this,e),this.cookieDomain=t;var n=(0,s.getCookieObject)(u["default"].sessionCookieName);this.watchParamsRegExp=/^(utm_\w+|trm_\w+)$/,this.limitKeyLength=32,this.limitValueLength=64,this.lastUpdated=0,this.init(n)}return r(e,[{key:"init",value:function(e){var t=this.createSessionInfo();this.nextParams=(0,c.extend)({},t.params),this.data=(0,c.assign)(t,e),this.update()}},{key:"getInfo",value:function(){var e=Date.now();if(e-this.lastUpdated>u["default"].sessionCookieExpires)this.init({});else{var t=this.data.params,n=this.nextParams,i=(0,c.any)(n,function(e,n){return t[e]!==n});i&&this.init({params:this.nextParams})}var o=(0,c.extend)({},this.data);return o.duration=Math.round(.001*(Date.now()-o.time)),this.update(),o}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;this.lastUpdated=Date.now(),(0,s.setCookieObject)(u["default"].sessionCookieName,e,u["default"].sessionCookieExpires,{cookieDomain:this.cookieDomain})}},{key:"createSessionInfo",value:function(){var e={id:(0,c.createId)(!0),path:location.pathname,query:location.search,params:this.parseParams(location.search),time:Date.now()};return e}},{key:"setNextParam",value:function(e,t){this.isValidParamData(e,t)&&(this.nextParams[e]=t)}},{key:"isValidParamData",value:function(e,t){var n=e+"",i=t+"",o=n.length<=this.limitKeyLength,r=i.length<=this.limitValueLength;return this.watchParamsRegExp.test(n)&&"undefined"!=typeof t&&o&&r}},{key:"parseParams",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data.query,n=(0,c.parseUrlQuery)(t),i={};return(0,c.each)(n,function(t,n){e.isValidParamData(t,n)&&(i[t]=n)}),i}}]),e}();n["default"]=l},{config:1,"lib/cookie":8,"lib/util":11}],14:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("config"),u=i(a),s=e("lib/cookie"),c=e("lib/util"),l=function(){function e(t){o(this,e),this.cookieDomain=t;var n=(0,s.getCookieObject)(u["default"].userCookieName);this.init(n)}return r(e,[{key:"init",value:function(e){var t=this.createUserInfo();t=(0,c.assign)(t,e),this.data=t,this.update()}},{key:"getInfo",value:function(){var e=(0,c.extend)({},this.data);return(0,c.each)(e,function(t,n){0!==t.indexOf("attr")||n||delete e[t]}),this.update(),e}},{key:"setId",value:function(e){this.data.id=e,this.update()}},{key:"setAttributes",value:function(e){var t=this;(0,c.each)(e,function(e,n){0===e.indexOf("attr")&&"undefined"!==t.data[e]&&(t.data[e]=n)}),this.update()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,t={};(0,c.extend)(t,e),(0,c.each)(t,function(e,n){null===n&&delete t[e]}),(0,s.setCookieObject)(u["default"].userCookieName,t,u["default"].userCookieExpires,{cookieDomain:this.cookieDomain})}},{key:"createUserInfo",value:function(){for(var e={id:""},t=0;t<u["default"].userAttrsLimit;t++)e["attr"+t]=null;return e}}]),e}();n["default"]=l},{config:1,"lib/cookie":8,"lib/util":11}],15:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=e("config"),s=i(u),c=e("lib/_debugger"),l=i(c),f=e("lib/beacon"),d=i(f),h=e("lib/screenInfo"),v=i(h),p=e("lib/performanceInfo"),m=i(p),y=e("lib/util"),b=e("model/cid"),g=i(b),k=e("model/session"),w=i(k),_=e("model/user"),C=i(_),E=e("event/pageview"),P=i(E),x=e("event/exception"),O=i(x),S=e("event/trackevent"),j=i(S),T=e("event/scroll"),D=i(T),I=function(){function e(t){var n=this,i=t.productKey,o=t.productVersion,a=void 0===o?"latest":o,u=t.cookieDomain,c=void 0===u?location.hostname:u,f=t.endpoint,h=void 0===f?"https://torimochi.line-apps.com/1/req":f;r(this,e),this.cid=new g["default"],this.user=new C["default"](c),this.session=new w["default"](c),this.beacon=new d["default"](h),this.screen=new v["default"],this.metaInfo={logVersion:s["default"].logVersion,productKey:i,productVersion:a},this.watches=[],this.eventTypes={},this.registerEventTypes({pageview:P["default"],exception:O["default"],event:j["default"],scroll:D["default"]}),this.timer=null,this.scrollHandler=function(){clearTimeout(n.timer),n.timer=setTimeout(function(){n.send("scroll")},100)},(0,l["default"])("initialized")}return a(e,[{key:"registerEventTypes",value:function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(this.eventTypes[t]=e[t]);return this.eventTypes}},{key:"createEventParams",value:function(e,t,n){var i,r=(0,y.extend)({cid:this.cid.id,threshold:this.cid.threshold,eventType:e,timestamp:Date.now()},this.metaInfo);r=(0,y.extend)(r,this.getLocationInfo()),r=(0,y.extend)(r,this.user.getInfo(),"user"),r=(0,y.extend)(r,this.session.getInfo(),"session"),r=(0,y.extend)(r,this.screen.getInfo()),r.userId||(r.userId=this.cid.id);var a=navigator.doNotTrack;return void 0===a&&(a=navigator.msDoNotTrack),void 0===a&&(a=window.doNotTrack),r.content=(i={},o(i,e,t),o(i,"extend",n||{}),o(i,"aside",{dnt:a}),i),r}},{key:"send",value:function(e){for(var t=e,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=i;e.hitType&&(t=e.hitType,delete e.hitType,r=[e]);var a=this.eventTypes[t];if(a){var u=a(r),s=u.data,c=u.hitCallback,l=u.rawData,f=(0,y.pickup)(l,/^dimension[0-9]$/);if(s){var d=this.createEventParams(t,s,f);return this.beacon.send(d,c),d}return!1}return!1}},{key:"performance",value:function(e){var t=this;if(window.performance&&window.performance.timing){var n=e||.1;if(this.cid.isTarget(n))return(0,y.onload)(function(){setTimeout(function(){var e=(0,m["default"])(),n=t.createEventParams("performance",e,{});t.beacon.send(n)},100)}),!0}return!1}},{key:"set",value:function(e,t){switch(e){case"userId":this.user.setId(t);break;case"attributes":this.user.setAttributes(t);break;case"campaignName":this.session.setNextParam("utm_campaign",t);break;case"campaignSource":this.session.setNextParam("utm_source",t);break;case"campaignMedium":this.session.setNextParam("utm_medium",t);break;case"campaignKeyword":this.session.setNextParam("utm_term",t);break;case"campaignContent":this.session.setNextParam("utm_content",t)}}},{key:"get",value:function(e,t){switch(e){case"threshold":return t(this.cid.threshold);default:return null}}},{key:"watchWindowError",value:function(){var e=this;window.onerror=function(t,n,i,o){e.send("exception",t,n,i,o)}}},{key:"watchWindowScroll",value:function(e){var t=e||.1;this.cid.isTarget(t)&&(this.send("scroll"),window.removeEventListener("scroll",this.scrollHandler),window.addEventListener("scroll",this.scrollHandler,{passive:!0}))}},{key:"getLocationInfo",value:function(){var e=window._trmCurrentPath||location.pathname;return{url:location.href,host:location.host,path:e,query:location.search,hash:location.hash,referrer:document.referrer}}}]),e}();n["default"]=I},{config:1,"event/exception":2,"event/pageview":3,"event/scroll":4,"event/trackevent":5,"lib/_debugger":6,"lib/beacon":7,"lib/performanceInfo":9,"lib/screenInfo":10,"lib/util":11,"model/cid":12,"model/session":13,"model/user":14}],16:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=e("config"),u=i(a),s=e("lib/cookie"),c=e("lib/_debugger"),l=i(c),f=e("torimochi"),d=i(f),h=function(){function e(t){o(this,e),this.client=null,this.reservedTasks=[],this._runTasks(t)}return r(e,[{key:"_proxy",value:function(e){var t=e+"";if(0!==t.indexOf("_")&&"function"==typeof this[t]){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this[t].apply(this,i)}}},{key:"_runTasks",value:function(e){for(e.sort(function(e,t){return"set"===e[0]?0:"set"===t[0]?1:-1});e.length>0;){var t=e.shift();this._proxy.apply(this,t)}return e}},{key:"_isEnabled",value:function(e){if(!this.client){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.reservedTasks.push([e].concat(n)),!1}return!0}},{key:"enable",value:function(e){var t=1*(0,s.getCookie)(u["default"].disabledCookieName);if(t!==-1&&1!==t){var n=Math.random();t=e.throttle&&e.throttle<n?1:-1,(0,s.setCookie)(u["default"].disabledCookieName,t,0)}return 1===t?((0,l["default"])("disabled"),!1):(this.client=new d["default"](e),this.client.watchWindowError(),this._runTasks(this.reservedTasks),!0)}},{key:"send",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=this._isEnabled.apply(this,["send",e].concat(n));if(o){var r;(r=this.client).send.apply(r,[e].concat(n))}}},{key:"performance",value:function(e){var t=e.rate||e||.1,n=this._isEnabled("performance",t);n&&this.client.performance(t)}},{key:"watch",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=this._isEnabled.apply(this,["watch"].concat(t));if(i){var o;(o=this.client.screen).register.apply(o,t)}}},{key:"scroll",value:function(e){var t=e.rate||e||.1,n=this._isEnabled("scroll",t);n&&this.client.watchWindowScroll(t)}},{key:"set",value:function(e,t){var n=this._isEnabled("set",e,t);n&&this.client.set(e,t)}},{key:"get",value:function(e,t){var n=this._isEnabled("get",e,t);n&&this.client.get(e,t)}}]),e}();n["default"]=h;var v=window._trmq||[];try{var p=new h(v);window._trm=p._proxy.bind(p)}catch(m){(0,l["default"])(m)}},{config:1,"lib/_debugger":6,"lib/cookie":8,torimochi:15}]},{},[16]);